<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HarvestIQ Chat Assistant</title>
</head>
<body>

<style>
    .chat-page-content {
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-opacity='0.03'%3E%3Cpolygon fill='%2328a745' points='50 0 60 40 100 50 60 60 50 100 40 60 0 50 40 40'/%3E%3C/g%3E%3C/svg%3E") no-repeat center center fixed;
        background-size: cover;
        background-color: #e8f5e8;
        font-family: Arial, sans-serif;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        padding: 20px;
        position: relative;
        animation: bgZoom 25s ease-in-out infinite alternate;
    }

    @keyframes bgZoom {
        0% { background-size: 100% 100%; }
        100% { background-size: 110% 110%; }
    }

    .chat-page-content::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.4);
        z-index: 0;
    }

    .chat-header {
        text-align: center;
        margin-bottom: 20px;
        opacity: 0;
        transform: translateY(-30px);
        animation: fadeSlideDown 1.2s ease forwards;
        position: relative;
        z-index: 1;
    }

    .chat-header h1 {
        font-size: 2.5rem;
        color: #90ee90;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        margin-bottom: 5px;
    }

    .chat-header p {
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.1rem;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    .chat-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        max-width: 900px;
        margin: 0 auto;
        width: 100%;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(10px);
        overflow: hidden;
        opacity: 0;
        transform: translateY(50px);
        animation: fadeSlideUp 1.5s ease 0.3s forwards;
        position: relative;
        z-index: 1;
    }

    .messages {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        max-height: 50vh;
        min-height: 300px;
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .messages::-webkit-scrollbar {
        width: 8px;
    }

    .messages::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    .messages::-webkit-scrollbar-thumb {
        background: #28a745;
        border-radius: 10px;
    }

    .message {
        display: flex;
        gap: 12px;
        align-items: flex-start;
        opacity: 0;
        animation: messageSlideIn 0.6s ease forwards;
    }

    .message.user {
        justify-content: flex-end;
        flex-direction: row-reverse;
    }

    .message.assistant {
        justify-content: flex-start;
    }

    .avatar {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        transition: transform 0.3s ease;
    }

    .user-avatar {
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
    }

    .assistant-avatar {
        background: linear-gradient(135deg, #007bff, #6f42c1);
        color: white;
    }

    .message-bubble {
        max-width: 70%;
        padding: 15px 20px;
        border-radius: 20px;
        font-size: 1rem;
        line-height: 1.5;
        position: relative;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .user .message-bubble {
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
        border-bottom-right-radius: 8px;
    }

    .assistant .message-bubble {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        color: #333;
        border: 1px solid #dee2e6;
        border-bottom-left-radius: 8px;
    }

    .welcome-message {
        text-align: center;
        padding: 25px 20px;
        background: linear-gradient(135deg, rgba(40, 167, 69, 0.1), rgba(32, 201, 151, 0.1));
        border-radius: 15px;
        margin: 0 auto 20px auto;
        border: 2px dashed rgba(40, 167, 69, 0.3);
        max-width: 600px;
        width: 80%;
    }

    .welcome-message h3 {
        color: #28a745;
        margin-bottom: 10px;
        font-size: 1.3rem;
    }

    .welcome-message p {
        color: #6c757d;
        font-size: 1rem;
        line-height: 1.5;
    }

    .input-area {
        background: #ffffff;
        border-top: 1px solid rgba(40, 167, 69, 0.2);
        padding: 20px 25px;
        display: flex;
        gap: 12px;
        align-items: center;
        box-shadow: 0 -2px 8px rgba(0,0,0,0.05);
        position: relative;
        z-index: 100;
    }

    .input-container {
        flex: 1;
        position: relative;
        display: flex;
        align-items: center;
    }

    .message-input {
        flex: 1;
        border: 1px solid #e0e6ed;
        border-radius: 25px;
        padding: 12px 60px 12px 20px;
        font-size: 1rem;
        outline: none;
        resize: none;
        min-height: 20px;
        max-height: 120px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
        background: #ffffff;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        transition: all 0.2s ease;
        line-height: 1.4;
        color: #333;
    }

    .message-input::placeholder {
        color: #8e8e93;
        font-weight: 400;
    }

    .message-input:focus {
        border-color: #28a745;
        box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1), 0 1px 3px rgba(0,0,0,0.1);
        background: #ffffff;
    }

    .voice-button {
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        background: #28a745;
        color: white;
        border: none;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(40, 167, 69, 0.25);
        transition: all 0.2s ease;
        flex-shrink: 0;
    }

    .voice-button:hover {
        background: #218838;
        transform: translateY(-50%) scale(1.05);
        box-shadow: 0 3px 12px rgba(40, 167, 69, 0.3);
    }

    .voice-button:active {
        transform: translateY(-50%) scale(0.95);
        transition: transform 0.1s ease;
    }

    .voice-button.recording {
        background: #dc3545;
        animation: pulse 1.5s ease-in-out infinite;
    }

    .voice-button.recording:hover {
        background: #c82333;
    }

    /* Voice wave animation */
    .voice-waves {
        display: none;
        align-items: center;
        justify-content: center;
        gap: 2px;
    }

    .voice-button.recording .voice-waves {
        display: flex;
    }

    .voice-button.recording .mic-icon {
        display: none;
    }

    .wave-bar {
        width: 2px;
        height: 4px;
        background: white;
        border-radius: 1px;
        animation: wave 1.5s ease-in-out infinite;
    }

    .wave-bar:nth-child(1) { animation-delay: 0s; }
    .wave-bar:nth-child(2) { animation-delay: 0.1s; }
    .wave-bar:nth-child(3) { animation-delay: 0.2s; }
    .wave-bar:nth-child(4) { animation-delay: 0.3s; }
    .wave-bar:nth-child(5) { animation-delay: 0.4s; }

    @keyframes wave {
        0%, 100% { height: 4px; }
        50% { height: 12px; }
    }

    @keyframes pulse {
        0% { box-shadow: 0 2px 8px rgba(220, 53, 69, 0.25); }
        50% { box-shadow: 0 4px 20px rgba(220, 53, 69, 0.6); }
        100% { box-shadow: 0 2px 8px rgba(220, 53, 69, 0.25); }
    }

    .send-button {
        background: #28a745;
        color: white;
        border: none;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(40, 167, 69, 0.25);
        transition: all 0.2s ease;
        flex-shrink: 0;
    }

    .send-button:hover {
        background: #218838;
        transform: scale(1.05);
        box-shadow: 0 3px 12px rgba(40, 167, 69, 0.3);
    }

    .send-button:active {
        transform: scale(0.95);
        transition: transform 0.1s ease;
    }

    .voice-status {
        position: absolute;
        top: -30px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(220, 53, 69, 0.9);
        color: white;
        padding: 4px 12px;
        border-radius: 15px;
        font-size: 0.8rem;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }

    .voice-status.show {
        opacity: 1;
    }

    @keyframes fadeSlideDown {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeSlideUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes messageSlideIn {
        from {
            opacity: 0;
            transform: translateX(-20px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @media (max-width: 768px) {
        .chat-header h1 {
            font-size: 2rem;
        }
        
        .chat-container {
            margin: 10px;
            border-radius: 15px;
        }

        .message-bubble {
            max-width: 85%;
            padding: 12px 16px;
            font-size: 0.95rem;
        }

        .input-area {
            padding: 15px 20px;
            gap: 10px;
        }

        .message-input {
            min-height: 18px;
            padding: 10px 50px 10px 18px;
            font-size: 0.95rem;
        }

        .voice-button {
            width: 32px;
            height: 32px;
            right: 6px;
        }

        .send-button {
            width: 40px;
            height: 40px;
        }

        .welcome-message {
            width: 90%;
            padding: 20px 15px;
        }
    }

    @media (max-width: 480px) {
        .welcome-message {
            width: 95%;
            max-width: none;
        }
        
        .input-area {
            padding: 15px;
            gap: 15px;
        }
    }
</style>

<div class="chat-page-content">
    <div class="chat-header">
        <h1>HarvestIQ Chat Assistant ðŸŒ±</h1>
        <p>Get personalized agricultural guidance and crop recommendations</p>
    </div>

    <div class="chat-container">
        <div class="messages">
            <div class="welcome-message">
                <h3>Welcome to HarvestIQ Chat! </h3>
            </div>
            
            <div class="message user">
                <div class="message-bubble">
                    Hello, can you help me with crop recommendations : 
                </div>
                <div class="avatar user-avatar">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.2 7 13.5 7.4 13.1 8L12 10L10.9 8C10.5 7.4 9.8 7 9 7H3V9H8.8L10.7 12L8.8 15H3V17H9C9.8 17 10.5 16.6 10.9 16L12 14L13.1 16C13.5 16.6 14.2 17 15 17H21V15H15.2L13.3 12L15.2 9H21Z"/>
                    </svg>
                </div>
            </div>

            <div class="message assistant">
                <div class="avatar assistant-avatar">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3zm5 15h-2v-6H9v6H7v-6H5.83L12 7.83L18.17 12H17v6z"/>
                    </svg>
                </div>
                <div class="message-bubble">
                    Hello! I'm HarvestIQ's AI assistant, specialized in agricultural guidance. I'd be happy to help you with crop recommendations! To give you the best advice, I'd like to know:<br>
                    â€¢ Your location/region<br>
                    â€¢ Current season<br>
                    â€¢ Soil type<br>
                    â€¢ Available irrigation<br>
                    â€¢ Previous crops grown
                </div>
            </div>
        </div>

        <div class="input-area">
            <div class="input-container">
                <textarea class="message-input" placeholder="State your problem or click the mic to speak..." rows="1"></textarea>
                <button class="voice-button" type="button" title="Voice input">
                    <svg class="mic-icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
                    </svg>
                    <div class="voice-waves">
                        <div class="wave-bar"></div>
                        <div class="wave-bar"></div>
                        <div class="wave-bar"></div>
                        <div class="wave-bar"></div>
                        <div class="wave-bar"></div>
                    </div>
                </button>
                <div class="voice-status">ðŸŽ¤ Listening...</div>
            </div>
            <button class="send-button" type="button" title="Send message">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M2 21l21-9L2 3v7l15 2-15 2v7z"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        const messageInput = document.querySelector('.message-input');
        const sendButton = document.querySelector('.send-button');
        const voiceButton = document.querySelector('.voice-button');
        const voiceStatus = document.querySelector('.voice-status');
        const messages = document.querySelector('.messages');

        let isRecording = false;
        let recognition = null;

        // Initialize speech recognition if available
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'en-US';

            recognition.onstart = function() {
                isRecording = true;
                voiceButton.classList.add('recording');
                voiceStatus.classList.add('show');
                voiceStatus.textContent = 'ðŸŽ¤ Listening...';
            };

            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                messageInput.value = transcript;
                messageInput.style.height = 'auto';
                messageInput.style.height = Math.min(messageInput.scrollHeight, 150) + 'px';
                messageInput.focus();
            };

            recognition.onerror = function(event) {
                console.error('Speech recognition error:', event.error);
                voiceStatus.textContent = 'âŒ Error occurred';
                setTimeout(() => {
                    stopRecording();
                }, 2000);
            };

            recognition.onend = function() {
                stopRecording();
            };
        }

        function startRecording() {
            if (recognition && !isRecording) {
                try {
                    recognition.start();
                } catch (error) {
                    console.error('Failed to start speech recognition:', error);
                    alert('Speech recognition not available or already active');
                }
            } else if (!recognition) {
                alert('Speech recognition is not supported in this browser');
            }
        }

        function stopRecording() {
            if (recognition && isRecording) {
                recognition.stop();
            }
            isRecording = false;
            voiceButton.classList.remove('recording');
            voiceStatus.classList.remove('show');
        }

        // Voice button event listener
        voiceButton.addEventListener('click', function() {
            if (isRecording) {
                stopRecording();
            } else {
                startRecording();
            }
        });

        // Auto-resize textarea
        messageInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 150) + 'px';
        });

        // Send message on Enter (but not Shift+Enter)
        messageInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        sendButton.addEventListener('click', sendMessage);

        function sendMessage() {
            const text = messageInput.value.trim();
            if (!text) return;

            // Stop recording if active
            if (isRecording) {
                stopRecording();
            }

            // Create new message with animation
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-bubble">${text}</div>
                <div class="avatar user-avatar">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.2 7 13.5 7.4 13.1 8L12 10L10.9 8C10.5 7.4 9.8 7 9 7H3V9H8.8L10.7 12L8.8 15H3V17H9C9.8 17 10.5 16.6 10.9 16L12 14L13.1 16C13.5 16.6 14.2 17 15 17H21V15H15.2L13.3 12L15.2 9H21Z"/>
                    </svg>
                </div>
            `;

            messages.appendChild(messageDiv);
            messageInput.value = '';
            messageInput.style.height = 'auto';
            
            // Auto-generate AI response after a short delay
            setTimeout(() => {
                const aiResponse = generateAIResponse(text);
                addAIResponse(aiResponse);
            }, 1000);
            
            // Scroll to bottom with smooth animation
            messages.scrollTo({
                top: messages.scrollHeight,
                behavior: 'smooth'
            });
        }

        function addAIResponse(response) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message assistant';
            messageDiv.innerHTML = `
                <div class="avatar assistant-avatar">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3zm5 15h-2v-6H9v6H7v-6H5.83L12 7.83L18.17 12H17v6z"/>
                    </svg>
                </div>
                <div class="message-bubble">${response}</div>
            `;

            messages.appendChild(messageDiv);
            messages.scrollTo({
                top: messages.scrollHeight,
                behavior: 'smooth'
            });
        }

        function generateAIResponse(userMessage) {
            // Convert message to lowercase for keyword matching
            const message = userMessage.toLowerCase();
            
            // Agricultural responses based on keywords
            if (message.includes('crop') || message.includes('plant') || message.includes('grow')) {
                const cropResponses = [
                    "For crop recommendations, I'd need to know your location and soil type. Popular options include wheat, rice, corn, and legumes depending on your region and season.",
                    "Great question about crops! Consider factors like climate, soil pH, water availability, and market demand. What's your farm location and current season?",
                    "Crop selection depends on several factors. Tell me about your soil type, irrigation facilities, and preferred harvest time for personalized recommendations.",
                    "I'd be happy to suggest crops! What's your region, and are you looking for food crops, cash crops, or cover crops?"
                ];
                return cropResponses[Math.floor(Math.random() * cropResponses.length)];
            }
            
            if (message.includes('soil') || message.includes('fertilizer') || message.includes('nutrient')) {
                const soilResponses = [
                    "Soil health is crucial for farming success! Test your soil pH, organic matter, and nutrient levels. Most crops prefer pH 6.0-7.0. Would you like specific soil improvement tips?",
                    "For healthy soil, focus on organic matter, proper drainage, and nutrient balance. Consider soil testing and adding compost or well-rotted manure.",
                    "Soil management includes testing pH, adding organic matter, crop rotation, and appropriate fertilization. What specific soil challenges are you facing?",
                    "Good soil contains proper NPK ratios, organic matter, and beneficial microorganisms. Regular testing and organic amendments help maintain soil health."
                ];
                return soilResponses[Math.floor(Math.random() * soilResponses.length)];
            }
            
            if (message.includes('weather') || message.includes('season') || message.includes('climate')) {
                const weatherResponses = [
                    "Weather plays a vital role in farming! Consider seasonal patterns, rainfall, temperature, and frost dates. What's your current weather concern?",
                    "Climate considerations include rainfall patterns, temperature ranges, and seasonal variations. Are you planning for the upcoming season?",
                    "Weather affects planting, growing, and harvesting schedules. Monitor forecasts and choose climate-appropriate varieties. Which season are you planning for?",
                    "Understanding your local climate helps in crop selection and timing. Consider average rainfall, temperature, and growing degree days for your region."
                ];
                return weatherResponses[Math.floor(Math.random() * weatherResponses.length)];
            }
            
            if (message.includes('pest') || message.includes('insect') || message.includes('disease')) {
                const pestResponses = [
                    "Pest management requires integrated approaches: regular monitoring, beneficial insects, organic pesticides, and crop rotation. What pests are you dealing with?",
                    "For pest control, try companion planting, neem oil, beneficial predators, and proper sanitation. Early detection is key to effective management.",
                    "Common pests include aphids, caterpillars, and fungal diseases. Use IPM strategies: prevention, monitoring, and targeted treatments. Need specific pest advice?",
                    "Disease prevention involves proper spacing, good air circulation, disease-resistant varieties, and timely treatment. What symptoms are you observing?"
                ];
                return pestResponses[Math.floor(Math.random() * pestResponses.length)];
            }
            
            if (message.includes('water') || message.includes('irrigation') || message.includes('drought')) {
                const waterResponses = [
                    "Water management is essential! Consider drip irrigation, mulching, and drought-resistant varieties. How's your current water situation?",
                    "Efficient irrigation includes proper timing, adequate drainage, and water conservation. Drip systems and mulching help retain moisture.",
                    "Water needs vary by crop and growth stage. Monitor soil moisture, use efficient irrigation methods, and consider rainwater harvesting.",
                    "For water conservation, try mulching, proper plant spacing, and drought-tolerant crops. What's your primary water source?"
                ];
                return waterResponses[Math.floor(Math.random() * waterResponses.length)];
            }
            
            if (message.includes('organic') || message.includes('natural') || message.includes('sustainable')) {
                const organicResponses = [
                    "Organic farming focuses on natural methods: compost, crop rotation, beneficial insects, and avoiding synthetic chemicals. Interested in organic certification?",
                    "Sustainable practices include cover cropping, composting, integrated pest management, and soil conservation. What sustainable methods interest you?",
                    "Organic farming builds healthy soil ecosystems through natural inputs, biodiversity, and ecological balance. Are you transitioning to organic?",
                    "Natural farming methods include companion planting, green manures, biological pest control, and maintaining soil life. Need organic solutions for specific issues?"
                ];
                return organicResponses[Math.floor(Math.random() * organicResponses.length)];
            }
            
            if (message.includes('market') || message.includes('price') || message.includes('sell') || message.includes('profit')) {
                const marketResponses = [
                    "Market considerations include crop demand, pricing trends, storage options, and transportation. Research local markets and value-added opportunities.",
                    "For profitable farming, analyze market prices, production costs, and demand patterns. Consider direct sales, cooperatives, or contract farming.",
                    "Market success requires quality produce, timing, and understanding buyer needs. Have you identified your target markets?",
                    "Profitability depends on yield, quality, market prices, and input costs. Consider diversification and value addition for better returns."
                ];
                return marketResponses[Math.floor(Math.random() * marketResponses.length)];
            }
            
            if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
                return "Hello! I'm HarvestIQ's agricultural AI assistant. I'm here to help with crop recommendations, farming advice, soil health, pest management, and agricultural insights. What farming topic can I assist you with today?";
            }
            
            if (message.includes('help') || message.includes('advice') || message.includes('guidance')) {
                return "I'm here to provide agricultural guidance! I can help with crop selection, soil management, pest control, irrigation, organic farming, and market insights. What specific farming challenge are you facing?";
            }
            
            // Default responses for general farming queries
            const defaultResponses = [
                "That's an interesting agricultural question! Could you provide more specific details about your farming situation, location, or the particular challenge you're facing?",
                "I'd be happy to help with your farming query! For better recommendations, please share details about your crop type, farm location, or specific agricultural concern.",
                "Great question! To give you the most relevant agricultural advice, could you tell me more about your farming context - such as your location, crop interests, or current challenges?",
                "I'm here to assist with your agricultural needs! Whether it's crop planning, soil health, pest management, or farming techniques - what specific area would you like guidance on?",
                "Thanks for reaching out! HarvestIQ specializes in personalized agricultural advice. Please share more details about your farming situation so I can provide targeted recommendations."
            ];
            
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        // Initial animation for existing messages
        document.querySelectorAll('.message').forEach((msg, index) => {
            setTimeout(() => {
                msg.style.animation = `messageSlideIn 0.6s ease forwards`;
            }, index * 200);
        });
    </script>
</div>

</body>
</html>